<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PWA KalendÃ¡Å™</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
</head>

<body>

  <div id="app-wrapper">

    <!-- âœ… SCREEN: KalendÃ¡Å™ -->
    <div id="calendar-screen" class="screen active">

      <div class="calendar-container">
        <div id="calendar-header">        
          <h1 id="month-year"></h1>
        </div>

        <div class="calendar-weekdays">
          <div>Po</div>
          <div>Ãšt</div>
          <div>St</div>
          <div>ÄŒt</div>
          <div>PÃ¡</div>
          <div>So</div>
          <div>Ne</div>
        </div>

        <div class="calendar-grid" id="calendar">
          <!-- buÅˆky se generujÃ­ skriptem -->
        </div>

        <!-- Panel s informacemi o vybranÃ©m dni (vloÅ¾en do scrollable containeru, pod grid) -->
        <div id="day-info-panel" class="info-panel hidden">
          <div class="info-row info-header"><strong id="info-header">&nbsp;</strong></div>
          <div class="info-row"><strong>Celkem odpracovanÃ© hodiny:</strong> <span id="info-total">â€”</span></div>
          <div class="info-row small"><em>minut:</em> <span id="info-total-minutes">â€”</span></div>
          <div class="info-row small"><em id="info-holiday"></em></div>
          <div class="info-row"><strong>NormÃ¡lnÃ­ hodiny:</strong> <span id="info-hours">â€”</span> <span id="hours-shift-info"></span></div>
          <div class="info-row"><strong>PÅ™esÄasy:</strong> <span id="info-overtime">â€”</span> <span id="overtime-shift-info"></span></div>
          <div class="info-row"><strong>PoznÃ¡mka:</strong> <span id="info-note">â€”</span></div>
        </div>

      </div>
    </div>

    <!-- âœ… SCREEN: NastavenÃ­ -->
    <div id="settings-screen" class="screen">

  <header class="settings-header">
    <h2>NastavenÃ­</h2>
    <div id="app-version">v1.29</div>
  </header>

  <!-- zÃ¡hlavÃ­ jako segment control -->
  <div class="tab-header">
    <button data-tab="hours" class="active">â° Hodiny</button>
    <button data-tab="general">âš™ï¸ ObecnÃ©</button>
    
  </div>

  <div class="tab-content">
    <!-- ObecnÃ© nastavenÃ­ -->
    <div id="general" class="tab-pane">
      
      <!-- Motiv -->
      <section class="settings-section">
        <h3>Motiv zobrazenÃ­</h3>
        <div class="segmented-control" id="theme-control">
          <button data-value="light" class="active">ğŸŒ SvÄ›tlÃ½</button>
          <button data-value="dark">ğŸŒ™ TmavÃ½</button>
        </div>
      </section>

      <!-- SmÄ›na -->
      <section class="settings-section">
        <h3>SmÄ›na</h3>
        <div class="segmented-control" id="shift-control">
          <button data-value="A">A</button>
          <button data-value="B">B</button>
          <button data-value="C">C</button>
          <button data-value="D">D</button>
          <button data-value="R">R</button>
        </div>
      </section>

      <!-- Reset dat -->
      <section class="settings-section">
        <h3>Data</h3>
        <button id="btn-reset-data">Resetovat data</button>
        <p class="muted">VymaÅ¾e vÅ¡echna uloÅ¾enÃ¡ data (IndexedDB + vybranÃ© poloÅ¾ky localStorage).</p>
      </section>
    </div>

    <!-- Hodiny -->
<div id="hours" class="tab-pane active">
  <section class="settings-section">
    <h2>ZÃ¡kladnÃ­ nastavenÃ­ odpracovanÃ½ch hodin pro jednotlivÃ© smÄ›novÃ© dny</h2>
    
    <table class="hours-table">
      <thead>
        <tr>
          <th>Den</th>
          <th>OdpracovanÃ© hodiny</th>
          <th>PÅ™esÄasy</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>PondÄ›lÃ­</td>
          <td><input type="number" id="mon-hours" name="mon-hours" value="7.5" step="0.5"></td>
          <td><input type="number" id="mon-overtime" name="mon-overtime" value="0" step="0.5"></td>
        </tr>
        <tr>
          <td>ÃšterÃ½</td>
          <td><input type="number" id="tue-hours" name="tue-hours" value="7.5" step="0.5"></td>
          <td><input type="number" id="tue-overtime" name="tue-overtime" value="0" step="0.5"></td>
        </tr>
        <tr>
          <td>StÅ™eda</td>
          <td><input type="number" id="wed-hours" name="wed-hours" value="7.5" step="0.5"></td>
          <td><input type="number" id="wed-overtime" name="wed-overtime" value="0" step="0.5"></td>
        </tr>
        <tr>
          <td>ÄŒtvrtek</td>
          <td><input type="number" id="thu-hours" name="thu-hours" value="7.5" step="0.5"></td>
          <td><input type="number" id="thu-overtime" name="thu-overtime" value="0" step="0.5"></td>
        </tr>
        <tr>
          <td>PÃ¡tek</td>
          <td><input type="number" id="fri-hours" name="fri-hours" value="7.5" step="0.5"></td>
          <td><input type="number" id="fri-overtime" name="fri-overtime" value="0" step="0.5"></td>
        </tr>
        <tr>
          <td>Sobota</td>
          <td><input type="number" id="sat-hours" name="sat-hours" value="11" step="0.5"></td>
          <td><input type="number" id="sat-overtime" name="sat-overtime" value="0" step="0.5"></td>
        </tr>
        <tr>
          <td>NedÄ›le</td>
          <td><input type="number" id="sun-hours" name="sun-hours" value="7.5" step="0.5"></td>
          <td><input type="number" id="sun-overtime" name="sun-overtime" value="0" step="0.5"></td>
        </tr>
      </tbody>
    </table>
  </section>
</div>
  </div>

  <div class="settings-footer">
    <button id="btn-settings-cancel">Cancel</button>
    <button id="btn-settings-ok">OK</button>
  </div>
</div>

  <!-- Obrazovka editace hodin vybranÃ©ho dne -->
<div id="edit-screen" class="screen">
  
  <header class="edit-header">
    <h2>Editace dne</h2>
  </header>

  <!-- ZobrazenÃ­ vybranÃ©ho dne -->
  <div id="selected-day" class="edit-day-info">
    <span id="selected-date"></span>
    <span id="selected-shift"></span>
  </div>

  <form id="hours-form" class="hours-form">
    <!-- NormÃ¡lnÃ­ hodiny + SmÄ›na -->
    <div class="form-grid">
      <div class="form-group">
        <label for="day-hours">NormÃ¡lnÃ­ hodiny:</label>
        <input type="number" step="0.5" min="0" id="day-hours" value="7.5">
      </div>
      <div class="form-group">
        <label for="day-shift-hours">SmÄ›na:</label>
        <select id="day-shift-hours">
          <option value="ranni">RannÃ­</option>
          <option value="odpoledni">OdpolednÃ­</option>
          <option value="nocni">NoÄnÃ­</option>
          <option value="volno">Volno</option>
          <option value="dovolena">DovolenÃ¡</option>
          <option value="nemoc">Nemoc</option>
          <option value="nahr">NÃ¡hradnÃ­ volno</option>
        </select>
      </div>
    </div>

    <!-- PÅ™esÄas + SmÄ›na -->
    <div class="form-grid">
      <div class="form-group">
        <label for="day-overtime">PÅ™esÄas:</label>
        <input type="number" step="0.5" min="0" id="day-overtime" value="0">
      </div>
      <div class="form-group">
        <label for="day-shift-overtime">SmÄ›na:</label>
        <select id="day-shift-overtime">
          <option value="ranni">RannÃ­</option>
          <option value="odpoledni">OdpolednÃ­</option>
          <option value="nocni">NoÄnÃ­</option>
        </select>
      </div>
    </div>

    <!-- PoznÃ¡mka -->
    <div class="form-group">
      <label for="day-note">PoznÃ¡mka k dni:</label>
      <textarea id="day-note" rows="3" placeholder="ZapiÅ¡te poznÃ¡mku..."></textarea>
    </div>
  </form>

  <div class="edit-footer">
    <button type="button" id="btn-cancel">Cancel</button>
    <button type="submit" id="btn-ok">OK</button>
  </div>
</div>

  <!-- âœ… SCREEN: PDF NÃ¡hled -->
  <div id="pdf-preview-screen" class="screen">
    <header class="pdf-preview-header">
      <h2>NÃ¡hled PDF</h2>
    </header>
    
    <div id="pdf-preview-content" class="pdf-preview-content">
      <!-- Obsah se vygeneruje JS -->
    </div>
    
    <div class="pdf-preview-footer">
      <button type="button" id="btn-pdf-back">â¬…ï¸ ZpÄ›t</button>
      <button type="button" id="btn-pdf-save">ğŸ’¾ UloÅ¾it PDF</button>
    </div>
  </div>

  <!-- SkrytÃ½ element pro export PDF (bez CSS omezenÃ­ na vÃ½Å¡ku) -->
  <div id="pdf-export-container" style="display: none; position: absolute; left: -9999px; width: 100%; overflow: visible;">
    <div id="pdf-export-content"></div>
  </div>
  </div> <!-- âœ… konec wrapperu -->

  <!-- âœ… AkÄnÃ­ liÅ¡ta dole -->
<div class="action-bar">
  <button id="btn-settings">âš™ï¸</button>
  <button id="btn-export-pdf">ğŸ“„</button>
  <button id="btn-hours">ğŸ•’</button>
  <button id="btn-edit">âœï¸</button>
  <button id="btn-today">ğŸ“…</button>
  <button id="btn-prev">â¬…ï¸</button>
  <button id="btn-next">â¡ï¸</button>
</div>

  <script src="js/html2pdf.bundle.min.js"></script>
  <script src="script.js"></script>
</body>
</html>